{% extends 'base.html' %}
{% block content %}
    {% if current_user.is_authenticated %}
        <div class="container">
            <h1>Logged in</h1>
            <p class="lead">
                Contents of the most recent SAML assertion:
            </p>
            <div class="col-md-8">
                <table class="table">
                    {% if session.saml_attributes %}
                        {% for attribute in session.saml_attributes.keys() %}
                            <tr>
                                <td>{{ attribute }}</td>
                                <td>{{ session.saml_attributes[attribute][0] }}</td>
                            </tr>
                        {% endfor %}
                    {% endif %}
                </table>
            </div>
            <ol>
                <li><a href="/logout">Logout</a></li>
            </ol>
        </div>
    {% else %}
        <section>
            <div class="agid-spid-enter-button" aria-live="polite" data-size="l">
                <noscript>
                    Il login tramite SPID richiede che JavaScript sia abilitato nel browser
                </noscript>
            </div>

            <form name="spid_idp_access" action="{{ session.formActionUrl }}" method="post"
                  class="d-sm-block d-md-none">
                <input type="hidden" name="param_001" value=""/>
                <input type="hidden" name="param_002" value=""/>
                <input type="hidden" name="param_003" value=""/>
                <a href="#" class="italia-it-button italia-it-button-size-s button-spid"
                   spid-idp-button="#spid-idp-button-small-post" aria-haspopup="true" aria-expanded="false">
        <span class="italia-it-button-icon"><img src="img/spid-ico-circle-bb.svg"
                                                 onerror="this.src='img/spid-ico-circle-bb.png'; this.onerror=null;"
                                                 alt=""/></span>
                    <span class="italia-it-button-text">Entra con SPID</span>
                </a>
                <div id="spid-idp-button-small-post"
                     class="spid-idp-button spid-idp-button-tip spid-idp-button-relative">
                    <ul id="spid-idp-list-small-root-post" class="spid-idp-button-menu" aria-labelledby="spid-idp">
                        <li class="spid-idp-button-link" data-idp="arubaid">
                            <button class="idp-button-idp-logo" name="aruba_id" type="submit"><span
                                    class="spid-sr-only">Aruba ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-arubaid.svg"
                                                                             onerror="this.src='img/spid-idp-arubaid.png'; this.onerror=null;"
                                                                             alt="Aruba ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="infocertid">
                            <button class="idp-button-idp-logo" name="infocert_id" type="submit"><span
                                    class="spid-sr-only">Infocert ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-infocertid.svg"
                                    onerror="this.src='img/spid-idp-infocertid.png'; this.onerror=null;"
                                    alt="Infocert ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="intesaid">
                            <button class="idp-button-idp-logo" name="intesa_id" type="submit"><span
                                    class="spid-sr-only">Intesa ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-intesaid.svg"
                                                                              onerror="this.src='img/spid-idp-intesaid.png'; this.onerror=null;"
                                                                              alt="Intesa ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="lepidaid">
                            <button class="idp-button-idp-logo" name="lepida_id" type="submit"><span
                                    class="spid-sr-only">Lepida ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-lepidaid.svg"
                                                                              onerror="this.src='img/spid-idp-lepidaid.png'; this.onerror=null;"
                                                                              alt="Lepida ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="namirialid">
                            <button class="idp-button-idp-logo" name="namirial_id" type="submit"><span
                                    class="spid-sr-only">Namirial ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-namirialid.svg"
                                    onerror="this.src='img/spid-idp-namirialid.png'; this.onerror=null;"
                                    alt="Namirial ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="posteid">
                            <button class="idp-button-idp-logo" name="poste_id" type="submit"><span
                                    class="spid-sr-only">Poste ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-posteid.svg"
                                                                             onerror="this.src='img/spid-idp-posteid.png'; this.onerror=null;"
                                                                             alt="Poste ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="sielteid">
                            <button class="idp-button-idp-logo" name="sielte_id" type="submit"><span
                                    class="spid-sr-only">Sielte ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-sielteid.svg"
                                                                              onerror="this.src='img/spid-idp-sielteid.png'; this.onerror=null;"
                                                                              alt="Sielte ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="spiditalia">
                            <button class="idp-button-idp-logo" name="spiditalia" type="submit"><span
                                    class="spid-sr-only">SPIDItalia Register.it</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-spiditalia.svg"
                                    onerror="this.src='img/spid-idp-spiditalia.png'; this.onerror=null;"
                                    alt="SpidItalia"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="timid">
                            <button class="idp-button-idp-logo" name="tim_id" type="submit"><span
                                    class="spid-sr-only">Tim ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-timid.svg"
                                    onerror="this.src='img/spid-idp-timid.png'; this.onerror=null;" alt="Tim ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="info">
                            <a href="https://www.spid.gov.it">Maggiori informazioni</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="rich">
                            <a href="https://www.spid.gov.it/richiedi-spid">Non hai SPID?</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="help">
                            <a href="https://www.spid.gov.it/serve-aiuto">Serve aiuto?</a>
                        </li>
                    </ul>
                </div>
            </form>
            <!-- AGID - SPID IDP BUTTON SMALL "ENTRA CON SPID" * end * -->


            <!-- AGID - SPID IDP BUTTON MEDIUM "ENTRA CON SPID" * begin * -->
            <form name="spid_idp_access" action="{{ session.formActionUrl }}" method="post"
                  class="d-none d-md-block d-lg-none">
                <input type="hidden" name="param_001" value=""/>
                <input type="hidden" name="param_002" value=""/>
                <input type="hidden" name="param_003" value=""/>
                <a href="#" class="italia-it-button italia-it-button-size-m button-spid"
                   spid-idp-button="#spid-idp-button-medium-post" aria-haspopup="true" aria-expanded="false">
        <span class="italia-it-button-icon"><img src="img/spid-ico-circle-bb.svg"
                                                 onerror="this.src='img/spid-ico-circle-bb.png'; this.onerror=null;"
                                                 alt=""/></span>
                    <span class="italia-it-button-text">Entra con SPID</span>
                </a>
                <div id="spid-idp-button-medium-post"
                     class="spid-idp-button spid-idp-button-tip spid-idp-button-relative">
                    <ul id="spid-idp-list-medium-root-post" class="spid-idp-button-menu" aria-labelledby="spid-idp">
                        <li class="spid-idp-button-link" data-idp="arubaid">
                            <button class="idp-button-idp-logo" name="aruba_id" type="submit"><span
                                    class="spid-sr-only">Aruba ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-arubaid.svg"
                                                                             onerror="this.src='img/spid-idp-arubaid.png'; this.onerror=null;"
                                                                             alt="Aruba ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="infocertid">
                            <button class="idp-button-idp-logo" name="infocert_id" type="submit"><span
                                    class="spid-sr-only">Infocert ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-infocertid.svg"
                                    onerror="this.src='img/spid-idp-infocertid.png'; this.onerror=null;"
                                    alt="Infocert ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="intesaid">
                            <button class="idp-button-idp-logo" name="intesa_id" type="submit"><span
                                    class="spid-sr-only">Intesa ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-intesaid.svg"
                                                                              onerror="this.src='img/spid-idp-intesaid.png'; this.onerror=null;"
                                                                              alt="Intesa ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="lepidaid">
                            <button class="idp-button-idp-logo" name="lepida_id" type="submit"><span
                                    class="spid-sr-only">Lepida ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-lepidaid.svg"
                                                                              onerror="this.src='img/spid-idp-lepidaid.png'; this.onerror=null;"
                                                                              alt="Lepida ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="namirialid">
                            <button class="idp-button-idp-logo" name="namirial_id" type="submit"><span
                                    class="spid-sr-only">Namirial ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-namirialid.svg"
                                    onerror="this.src='img/spid-idp-namirialid.png'; this.onerror=null;"
                                    alt="Namirial ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="posteid">
                            <button class="idp-button-idp-logo" name="poste_id" type="submit"><span
                                    class="spid-sr-only">Poste ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-posteid.svg"
                                                                             onerror="this.src='img/spid-idp-posteid.png'; this.onerror=null;"
                                                                             alt="Poste ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="sielteid">
                            <button class="idp-button-idp-logo" name="sielte_id" type="submit"><span
                                    class="spid-sr-only">Sielte ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-sielteid.svg"
                                                                              onerror="this.src='img/spid-idp-sielteid.png'; this.onerror=null;"
                                                                              alt="Sielte ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="spiditalia">
                            <button class="idp-button-idp-logo" name="spiditalia" type="submit"><span
                                    class="spid-sr-only">SPIDItalia Register.it</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-spiditalia.svg"
                                    onerror="this.src='img/spid-idp-spiditalia.png'; this.onerror=null;"
                                    alt="SpidItalia"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="timid">
                            <button class="idp-button-idp-logo" name="tim_id" type="submit"><span
                                    class="spid-sr-only">Tim ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-timid.svg"
                                    onerror="this.src='img/spid-idp-timid.png'; this.onerror=null;" alt="Tim ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="info">
                            <a href="https://www.spid.gov.it">Maggiori informazioni</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="rich">
                            <a href="https://www.spid.gov.it/richiedi-spid">Non hai SPID?</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="help">
                            <a href="https://www.spid.gov.it/serve-aiuto">Serve aiuto?</a>
                        </li>
                    </ul>
                </div>
            </form>
            <!-- AGID - SPID IDP BUTTON MEDIUM "ENTRA CON SPID" * end * -->

            <!-- AGID - SPID IDP BUTTON LARGE "ENTRA CON SPID" * begin * -->
            <form name="spid_idp_access" action="{{ session.formActionUrl }}" method="post"
                  class="d-none d-lg-block d-xl-none">
                <input type="hidden" name="param_001" value=""/>
                <input type="hidden" name="param_002" value=""/>
                <input type="hidden" name="param_003" value=""/>
                <a href="#" class="italia-it-button italia-it-button-size-l button-spid"
                   spid-idp-button="#spid-idp-button-large-post" aria-haspopup="true" aria-expanded="false">
        <span class="italia-it-button-icon"><img src="img/spid-ico-circle-bb.svg"
                                                 onerror="this.src='img/spid-ico-circle-bb.png'; this.onerror=null;"
                                                 alt=""/></span>
                    <span class="italia-it-button-text">Entra con SPID</span>
                </a>
                <div id="spid-idp-button-large-post"
                     class="spid-idp-button spid-idp-button-tip spid-idp-button-relative">
                    <ul id="spid-idp-list-large-root-post" class="spid-idp-button-menu" aria-labelledby="spid-idp">
                        <li class="spid-idp-button-link" data-idp="arubaid">
                            <button class="idp-button-idp-logo" name="aruba_id" type="submit"><span
                                    class="spid-sr-only">Aruba ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-arubaid.svg"
                                                                             onerror="this.src='img/spid-idp-arubaid.png'; this.onerror=null;"
                                                                             alt="Aruba ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="infocertid">
                            <button class="idp-button-idp-logo" name="infocert_id" type="submit"><span
                                    class="spid-sr-only">Infocert ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-infocertid.svg"
                                    onerror="this.src='img/spid-idp-infocertid.png'; this.onerror=null;"
                                    alt="Infocert ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="intesaid">
                            <button class="idp-button-idp-logo" name="intesa_id" type="submit"><span
                                    class="spid-sr-only">Intesa ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-intesaid.svg"
                                                                              onerror="this.src='img/spid-idp-intesaid.png'; this.onerror=null;"
                                                                              alt="Intesa ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="lepidaid">
                            <button class="idp-button-idp-logo" name="lepida_id" type="submit"><span
                                    class="spid-sr-only">Lepida ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-lepidaid.svg"
                                                                              onerror="this.src='img/spid-idp-lepidaid.png'; this.onerror=null;"
                                                                              alt="Lepida ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="namirialid">
                            <button class="idp-button-idp-logo" name="namirial_id" type="submit"><span
                                    class="spid-sr-only">Namirial ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-namirialid.svg"
                                    onerror="this.src='img/spid-idp-namirialid.png'; this.onerror=null;"
                                    alt="Namirial ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="posteid">
                            <button class="idp-button-idp-logo" name="poste_id" type="submit"><span
                                    class="spid-sr-only">Poste ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-posteid.svg"
                                                                             onerror="this.src='img/spid-idp-posteid.png'; this.onerror=null;"
                                                                             alt="Poste ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="sielteid">
                            <button class="idp-button-idp-logo" name="sielte_id" type="submit"><span
                                    class="spid-sr-only">Sielte ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-sielteid.svg"
                                                                              onerror="this.src='img/spid-idp-sielteid.png'; this.onerror=null;"
                                                                              alt="Sielte ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="spiditalia">
                            <button class="idp-button-idp-logo" name="spiditalia" type="submit"><span
                                    class="spid-sr-only">SPIDItalia Register.it</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-spiditalia.svg"
                                    onerror="this.src='img/spid-idp-spiditalia.png'; this.onerror=null;"
                                    alt="SpidItalia"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="timid">
                            <button class="idp-button-idp-logo" name="tim_id" type="submit"><span
                                    class="spid-sr-only">Tim ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-timid.svg"
                                    onerror="this.src='img/spid-idp-timid.png'; this.onerror=null;" alt="Tim ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="info">
                            <a href="https://www.spid.gov.it">Maggiori informazioni</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="rich">
                            <a href="https://www.spid.gov.it/richiedi-spid">Non hai SPID?</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="help">
                            <a href="https://www.spid.gov.it/serve-aiuto">Serve aiuto?</a>
                        </li>
                    </ul>
                </div>
            </form>
            <!-- AGID - SPID IDP BUTTON LARGE "ENTRA CON SPID" * end * -->

            <!-- AGID - SPID IDP BUTTON XLARGE "ENTRA CON SPID" * begin * -->
            <form name="spid_idp_access" action="{{ session.formActionUrl }}" method="post" class="d-none d-xl-block">
                <input type="hidden" name="param_001" value=""/>
                <input type="hidden" name="param_002" value=""/>
                <input type="hidden" name="param_003" value=""/>
                <a href="#" class="italia-it-button italia-it-button-size-xl button-spid"
                   spid-idp-button="#spid-idp-button-xlarge-post" aria-haspopup="true" aria-expanded="false">
        <span class="italia-it-button-icon"><img src="img/spid-ico-circle-bb.svg"
                                                 onerror="this.src='img/spid-ico-circle-bb.png'; this.onerror=null;"
                                                 alt=""/></span>
                    <span class="italia-it-button-text">Entra con SPID</span>
                </a>
                <div id="spid-idp-button-xlarge-post"
                     class="spid-idp-button spid-idp-button-tip spid-idp-button-relative">
                    <ul id="spid-idp-list-xlarge-root-post" class="spid-idp-button-menu" aria-labelledby="spid-idp">
                        <li class="spid-idp-button-link" data-idp="arubaid">
                            <button class="idp-button-idp-logo" name="aruba_id" type="submit"><span
                                    class="spid-sr-only">Aruba ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-arubaid.svg"
                                                                             onerror="this.src='img/spid-idp-arubaid.png'; this.onerror=null;"
                                                                             alt="Aruba ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="infocertid">
                            <button class="idp-button-idp-logo" name="infocert_id" type="submit"><span
                                    class="spid-sr-only">Infocert ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-infocertid.svg"
                                    onerror="this.src='img/spid-idp-infocertid.png'; this.onerror=null;"
                                    alt="Infocert ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="intesaid">
                            <button class="idp-button-idp-logo" name="intesa_id" type="submit"><span
                                    class="spid-sr-only">Intesa ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-intesaid.svg"
                                                                              onerror="this.src='img/spid-idp-intesaid.png'; this.onerror=null;"
                                                                              alt="Intesa ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="lepidaid">
                            <button class="idp-button-idp-logo" name="lepida_id" type="submit"><span
                                    class="spid-sr-only">Lepida ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-lepidaid.svg"
                                                                              onerror="this.src='img/spid-idp-lepidaid.png'; this.onerror=null;"
                                                                              alt="Lepida ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="namirialid">
                            <button class="idp-button-idp-logo" name="namirial_id" type="submit"><span
                                    class="spid-sr-only">Namirial ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-namirialid.svg"
                                    onerror="this.src='img/spid-idp-namirialid.png'; this.onerror=null;"
                                    alt="Namirial ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="posteid">
                            <button class="idp-button-idp-logo" name="poste_id" type="submit"><span
                                    class="spid-sr-only">Poste ID</span><img class="spid-idp-button-logo"
                                                                             src="img/spid-idp-posteid.svg"
                                                                             onerror="this.src='img/spid-idp-posteid.png'; this.onerror=null;"
                                                                             alt="Poste ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="sielteid">
                            <button class="idp-button-idp-logo" name="sielte_id" type="submit"><span
                                    class="spid-sr-only">Sielte ID</span><img class="spid-idp-button-logo"
                                                                              src="img/spid-idp-sielteid.svg"
                                                                              onerror="this.src='img/spid-idp-sielteid.png'; this.onerror=null;"
                                                                              alt="Sielte ID"/></button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="spiditalia">
                            <button class="idp-button-idp-logo" name="spiditalia" type="submit"><span
                                    class="spid-sr-only">SPIDItalia Register.it</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-spiditalia.svg"
                                    onerror="this.src='img/spid-idp-spiditalia.png'; this.onerror=null;"
                                    alt="SpidItalia"/>
                            </button>
                        </li>
                        <li class="spid-idp-button-link" data-idp="timid">
                            <button class="idp-button-idp-logo" name="tim_id" type="submit"><span
                                    class="spid-sr-only">Tim ID</span><img
                                    class="spid-idp-button-logo" src="img/spid-idp-timid.svg"
                                    onerror="this.src='img/spid-idp-timid.png'; this.onerror=null;" alt="Tim ID"/>
                            </button>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="info">
                            <a href="https://www.spid.gov.it">Maggiori informazioni</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="rich">
                            <a href="https://www.spid.gov.it/richiedi-spid">Non hai SPID?</a>
                        </li>
                        <li class="spid-idp-support-link" data-spidlink="help">
                            <a href="https://www.spid.gov.it/serve-aiuto">Serve aiuto?</a>
                        </li>
                    </ul>
                </div>
            </form>
            <!-- AGID - SPID IDP BUTTON XLARGE "ENTRA CON SPID" * end * -->
        </section>
    {% endif %}
{% endblock %}
